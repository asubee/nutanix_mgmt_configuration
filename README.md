# nutanix_mgmt_configuration

## パッケージのダウンロード
オフライン環境での構築を想定し、必要なパッケージを事前にダウンロードしておく。
ダウンロードしたrpmを格納するデイレクトリ：pkg

まず、オンライン環境にて、以下スクリプトを実行する。
```
$ ./download_package.sh <ダウンロードしたいパッケージ名>
```

今回は、dns（bind）とリバースプロキシ（squid）をダウンロードする為、以下コマンドを実行する。
なお、各フォルダの中にある`download_bind.sh`や`download_squid.sh`を実行してもよい。

実行すると、依存関係にあるすべてのパッケージが`./pkg`にダウンロードされ、このフォルダがローカルリポジトリとして設定される。

## dnsの起動
`./dns`フォルダに移動する。このフォルダ配下で、以下コマンドを実行することでインストールが始まる。
```
./install_bind.sh
```

インストールが終わったらbindを起動する。
```
./start_bind.sh
```

終了する際には、以下スクリプトを実行する。
```
./stop_bind.sh
```

## squidの起動
`./squid`フォルダに移動する。このフォルダ配下で、以下コマンドを実行することでインストールが始まる。
```
./install_squid.sh
```

インストールが終わったらsquidを起動する。
```
./start_squid.sh
```

終了する際には、以下スクリプトを実行する。
```
./stop_squid.sh
```


